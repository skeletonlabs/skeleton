/* Components: Forms */

@layer components {
	/* Resets --- */

	.fieldset,
	.legend,
	.label,
	.input,
	.textarea,
	.select {
		display: block;
		width: 100%;
	}

	.input::-webkit-calendar-picker-indicator {
		@variant dark {
			filter: invert(100%);
		}
	}

	/* Labels --- */

	.label > * + * {
		margin-top: --spacing(1);
	}

	.label-text {
		display: block;
		font-size: var(--text-xs);
		line-height: var(--text-xs--line-height);
		font-weight: var(--font-weight-medium);
		text-decoration-line: none;
	}

	/* Standard Inputs --- */

	.input,
	.textarea,
	.select {
		border-width: var(--default-border-width);
		border-color: var(--color-surface-200-800);
		border-radius: var(--radius-base);
		background-color: transparent;
		/* Transitions (all) */
		transition-property: all;
		transition-timing-function: var(--default-transition-timing-function);
		transition-duration: var(--default-transition-duration);
		/* Variants */
		@variant hover {
			filter: brightness(90%);
			@variant dark {
				filter: brightness(110%);
			}
		}
		@variant focus-within {
			border-color: var(--color-primary-500);
			outline: transparent;
		}
	}

	.input,
	.select option {
		height: --spacing(10);
		padding-inline: --spacing(4);
		padding-block: --spacing(2);
		font-size: var(--text-base);
		line-height: --spacing(10);
	}
	.textarea,
	.select[size],
	.select[multiple] {
		height: auto;
	}

	/* Placeholder */
	.input::placeholder,
	.textarea::placeholder {
		color: var(--color-surface-600-400);
	}

	/* Select --- */

	.select {
		padding: --spacing(2);
		padding-right: 40px; /* arrow offtset */
	}
	.select > * + *,
	.select optgroup > * + * {
		margin-top: --spacing(1);
	}
	.select optgroup option {
		margin-left: 0;
		padding-left: 0;
	}
	.select optgroup option:first-of-type {
		margin-top: --spacing(2);
	}
	.select optgroup option:last-child {
		margin-bottom: --spacing(2) !important;
	}
	.select option {
		cursor: pointer;
		border-radius: var(--radius-base);
		padding: --spacing(2);
	}
	.select:not([size]):not([multiple]) optgroup,
	.select:not([size]):not([multiple]) option {
		background-color: var(--color-surface-50-950);
		color: var(--color-surface-950-50);
	}
	.select option:checked {
		/* https://stackoverflow.com/questions/50618602/change-color-of-selected-option-in-select-multiple */
		background-image: linear-gradient(0deg, var(--color-primary-500) 0%, var(--color-primary-500) 100%);
		color: var(--color-primary-contrast-500);
	}

	/* Checkbox & Radio --- */

	.checkbox,
	.radio {
		--tw-ring-color: var(--color-surface-200-800);
		cursor: pointer;
		background-color: var(--color-surface-300-700);
		border-radius: var(--radius-sm);
		height: --spacing(5);
		width: --spacing(5);
		@variant focus-within {
			--tw-ring-color: var(--color-primary-500);
		}
		@variant hover {
			filter: brightness(105%);
		}
		@variant focus {
			filter: brightness(105%);
		}
	}
	.checkbox:checked,
	.checkbox:indeterminate,
	.radio:checked {
		background-color: var(--color-primary-500);
		@variant hover {
			background-color: var(--color-primary-500);
		}
		@variant focus {
			background-color: var(--color-primary-500);
			border: 0;
		}
	}
	.radio {
		border-radius: 100%;
		height: --spacing(5);
		width: --spacing(5);
	}

	/* File Input --- */

	.input[type='file'] {
		padding: --spacing(2);
		height: auto;
	}
	.input[type='file']::file-selector-button {
		background-color: var(--color-surface-950-50);
		border-radius: var(--radius-base);
		border: 0px;
		color: var(--color-surface-50-950);
		margin-right: --spacing(2);
		padding-inline: --spacing(3);
		line-height: --spacing(--text-xs--line-height);
		font-weight: medium;
	}

	/* Range Input --- */
	/* https://developer.mozilla.org/en-US/docs/Web/CSS/accent-color */

	.input[type='range'] {
		accent-color: var(--color-surface-950-50);
		width: 100%;
	}

	/* Color Picker Input --- */
	/* https://stackoverflow.com/questions/11167281/webkit-css-to-control-the-box-around-the-color-in-an-inputtype-color */

	.input[type='color'] {
		border-radius: var(--radius-base);
		width: --spacing(10);
		height: --spacing(10);
		padding: 0;
		border: none;
		outline: none;
		-webkit-appearance: none;
	}

	.input[type='color']::-webkit-color-swatch-wrapper {
		padding: 0;
	}
	.input[type='color']::-webkit-color-swatch {
		border: none;
		border-radius: var(--radius-base);
		@variant hover {
			filter: brightness(110%);
		}
	}

	/* Progress Bar --- */

	.progress {
		webkit-appearance: none;
		-moz-appearance: none;
		appearance: none;
		border-radius: var(--radius-base);
		background-color: var(--color-surface-200-800);
		width: 100%;
		height: --spacing(2);
		overflow: hidden;
	}
	.progress::-webkit-progress-bar {
		background-color: var(--color-surface-200-800);
	}
	.progress::-webkit-progress-value {
		background-color: var(--color-surface-950-50);
	}
	.progress::-moz-progress-bar {
		background-color: var(--color-surface-950-50);
	}
	.progress:indeterminate::-moz-progress-bar {
		width: 0;
	}

	/* Input Group --- */
	/* NOTE: disabled for now */

	/* .input-group {
		display: grid;
		gap: --spacing(2);
		align-items: stretch;
		overflow: hidden;
	}

	.input-group-label {
		font-size: var(--text-xs);
		line-height: var(--text-xs--line-height);
		font-weight: bold;
		border-radius: var(--radius-base);
		display: flex;
		align-items: center;
		justify-content: center;
		padding-inline: --spacing(4);
	} */
}

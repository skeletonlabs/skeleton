---
title: Code Block
description: Learn how to integrate Shiki, a beautiful yet powerful syntax highlighter.
---

import SveltePage from '@/components/examples/integrations/code-block/svelte/page.svelte';
import SveltePageRaw from '@/components/examples/integrations/code-block/svelte/page.svelte?raw';

import ReactPage from '@/components/examples/integrations/code-block/react/page.tsx';
import ReactPageRaw from '@/components/examples/integrations/code-block/react/page.tsx?raw';

import SvelteCodeBlock from '@/components/examples/integrations/code-block/svelte/code-block.svelte';
import SvelteCodeBlockRaw from '@/components/examples/integrations/code-block/svelte/code-block.svelte?raw';

import ReactCodeBlock from '@/components/examples/integrations/code-block/react/code-block.tsx';
import ReactCodeBlockRaw from '@/components/examples/integrations/code-block/react/code-block.tsx?raw';

<Summary>
	Shiki (Âºè, a Japanese word for "Style") is a beautiful and powerful syntax highlighter based on TextMate grammar and themes, the same
	engine as VS Code's syntax highlighting. It provides accurate and fast syntax highlighting for almost any mainstream programming language.
</Summary>

<figure class="card-filled-enhanced flex justify-center gap-4 p-8">
	<a href="https://shiki.style/" target="_blank" class="btn preset-filled">
		Shiki Documentation &rarr;
	</a>
</figure>

## Installation

[Install Shiki](https://shiki.style/guide/install) with your preferred package manager.

```bash
npm install -D shiki
```

<Framework id="react">

## Next.js Integration

Shiki provides [official documentation](https://shiki.style/packages/next) for integrating into Next.js. This guide will follow this outline.

</Framework>

## Create a Component

A reusable component should suffice in most projects. Follow the steps below.

<Framework id="svelte">

1. Implement a new `<CodeBlock>` component in `/src/lib/components/code-block.svelte`.
2. Implement several variations of our `<CodeBlock>` component in any SvelteKit route `+page.svelte`.

</Framework>

<Framework id="react">

1. Implement a new `<CodeBlock>` component in `/src/components/code-block.tsx`.
2. Implement several variations of our `<CodeBlock>` component in any route `page.tsx`.

</Framework>

<Framework id="svelte">
	<Preview framework="svelte" files={{ 'app.svelte': SveltePageRaw, 'code-block.svelte': SvelteCodeBlockRaw }} client:visible>
		<SveltePage client:visible />
	</Preview>
</Framework>

<Framework id="react">
	<Preview framework="react" files={{ 'app.tsx': ReactPageRaw, 'code-block.tsx': ReactCodeBlockRaw }} client:visible>
		<ReactPage client:visible />
	</Preview>
</Framework>

A few things of note about this component:

- You will need to import and configure any number of [Shiki themes](https://shiki.style/themes).
- You will need to import and configure any number of [supported languages](https://shiki.style/languages).
- The component has been implemented using Skeleton's [component style guidelines](/docs/resources/contribute/components).
- This provides a number of style props for easy customization via Skeleton's standard conventions.
- The component exposes `code`, `lang`, and `theme` properties to configure on-the-fly.
- The Code Block `<pre>` tag is auto-generated by Shiki; target utility classes with: `[&>pre]:myClassHere`.

## Programmatic Usage

<Alert type="warning">
	<p>This use case falls outside the scope of Skeleton. The following is provided merely as guidance.</p>
</Alert>

In some cases you may not have direct access to the source code, such as content from a blog posts or CMS pages. In fact the code may even come pre-baked with surrounding `<pre>` or `<code>` elements. For this, you'll need to follow the general steps below. Specific implementation may differ based on your app and framework.

1. Query all `<pre>` or `<code>` blocks using Javascript tools like `document.querySelectorAll()`. Be as specific as possible.
2. Ensure you have a clean instance of the source code itself, with no extra markup injected within.
3. Use Shiki's [codeToHtml](https://shiki.style/guide/install#shorthands) feature to parse the code as styled HTML markup.
4. Then append each instance of the code blocks in your DOM.

## Custom Themes

Shiki provides support for generating a custom highlighter theme:

- [Loading Custom Themes](https://shiki.style/guide/load-theme)
- [List of Bundled Themes](https://shiki.style/themes)

Shiki theme values can be defined using Skeleton custom theme properties, such as `rgba(--color-primary-500)`.

## Accessibility

See [Salma Alam-Naylor's](https://whitep4nth3r.com/about/) guidelines for [creating accessible code blocks](https://whitep4nth3r.com/blog/how-to-make-your-code-blocks-accessible-on-your-website/) that meet WGAC standards.

---
interface PageHeadings {
	/** The text value within the heading tag; stripped of HTML. */
	text: string;
	/** A generated slug value based on the text. */
	slug: string;
	/** Depth indicates headings H1-H6. */
	depth: number;
}

/** The generated list of page headings, slugs, and depth. */
const headings: PageHeadings[] = [
	{ text: 'Real World Example', slug: 'real-world-example', depth: 1 },
	{ text: 'Semantic Markup', slug: 'semantic-markup', depth: 1 },
	{ text: 'Utilities', slug: 'utilities', depth: 1 },
	{ text: 'Grid', slug: 'grid', depth: 2 },
	{ text: 'Alignment', slug: 'alignment', depth: 2 },
	{ text: 'Responsive Design', slug: 'responsive-design', depth: 2 },
	{ text: 'In Conclusion', slug: 'in-conclusion', depth: 1 }
];

/** Provide a padding-left class based on the depth. */
function setIndentationClass(depth: number) {
	// prettier-ignore
	switch(depth) {
		case(6): return 'pl-12';
		case(5): return 'pl-10';
		case(4): return 'pl-8';
		case(3): return 'pl-6';
		case(2): return 'pl-4';
		case(1): return 'pl-2';
		default: return 'pl-0';
	}
}
---

<nav class="card bg-surface-100-900 p-4">
	<!-- Table of Contents -->
	<div class="text-sm space-y-2">
		<!-- Label -->
		<div class="font-bold">On This Page</div>
		<!-- Links -->
		<ul class="space-y-2">
			<!-- Consider a fixed scroll position at the top of your page layouts. -->
			<li><a href={`#_top`} class="anchor block">Overview</a></li>
			<!-- Loop through the available headings. -->
			{
				headings.map((heading: PageHeadings) => (
					<li>
						{/* Apply a indentation class based on the depth. */}
						<a href={`#${heading.slug}`} class="anchor block" class:list={setIndentationClass(heading.depth)}>
							{heading.text}
						</a>
					</li>
				))
			}
		</ul>
	</div>
</nav>

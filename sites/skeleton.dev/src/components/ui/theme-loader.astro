<script is:inline>
	function applyTheme(document = window.document) {
		const storedTheme = localStorage.getItem('theme');
		const defaultTheme = 'cerberus';
		const theme = storedTheme ?? defaultTheme;
		document.documentElement.setAttribute('data-theme', theme);
		localStorage.setItem('theme', theme);
	}

	applyTheme();

	document.addEventListener('astro:before-swap', (event) => {
		applyTheme(event.newDocument);
	});
</script>

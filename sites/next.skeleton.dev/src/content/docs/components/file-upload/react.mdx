---
layout: '@layouts/LayoutDoc.astro'
---

export const components = componentSet;

import { Page as Example } from '@examples/components/file-upload/Example.tsx';
import ExampleRaw from '@examples/components/file-upload/Example.tsx?raw';
import { Page as ExampleFull } from '@examples/components/file-upload/ExampleFull.tsx';
import ExampleFullRaw from '@examples/components/file-upload/ExampleFull.tsx?raw';
import { Page as ExampleButton } from '@examples/components/file-upload/ExampleButton.tsx';
import ExampleButtonRaw from '@examples/components/file-upload/ExampleButton.tsx?raw';
import { Page as ExampleDisabled } from '@examples/components/file-upload/ExampleDisabled.tsx';
import ExampleDisabledRaw from '@examples/components/file-upload/ExampleDisabled.tsx?raw';
import { Page as ExampleRtl } from '@examples/components/file-upload/ExampleRtl.tsx';
import ExampleRtlRaw from '@examples/components/file-upload/ExampleRtl.tsx?raw';
import { Page as ExampleApiBind } from '@examples/components/file-upload/ExampleApiBind.tsx';
import ExampleApiBindRaw from '@examples/components/file-upload/ExampleApiBind.tsx?raw';
import FileUploadDocs from '@component-docs/svelte/FileUpload.json';

<Preview client:load>
	<Fragment slot="preview">
		<Example client:load />
	</Fragment>
	<Fragment slot="code">
		<Code code={ExampleRaw} lang="tsx" />
	</Fragment>
</Preview>

<Preview client:load>
	<Fragment slot="preview">
		<ExampleFull client:load />
	</Fragment>
	<Fragment slot="code">
		<Code code={ExampleFullRaw} lang="tsx" />
	</Fragment>
</Preview>

## Button

Use the `children` node to overwrite the default dropzone interface. Allow for a custom interface.

<Preview client:load>
	<Fragment slot="preview">
		<ExampleButton client:load />
	</Fragment>
	<Fragment slot="code">
		<Code code={ExampleButtonRaw} lang="tsx" />
	</Fragment>
</Preview>

## Disabled

<Preview client:load>
	<Fragment slot="preview">
		<ExampleDisabled client:load />
	</Fragment>
	<Fragment slot="code">
		<Code code={ExampleDisabledRaw} lang="tsx" />
	</Fragment>
</Preview>

## Bind to API

You can optionally bind to the internal [Zag component API](https://zagjs.com/components/react/file-upload#machine-api) to access additional methods such as `clearFiles()`.

<Preview client:load>
	<Fragment slot="preview">
		<ExampleApiBind client:load />
	</Fragment>
	<Fragment slot="code">
		<Code code={ExampleApiBindRaw} lang="tsx" />
	</Fragment>
</Preview>

## RTL

<Preview client:load>
	<Fragment slot="preview">
		<ExampleRtl client:load />
	</Fragment>
	<Fragment slot="code">
		<Code code={ExampleRtlRaw} lang="tsx" />
	</Fragment>
</Preview>

## Additional Features

### Accepted File Formats

```tsx
<FileUpload accept="image/*">
<FileUpload accept={"text/html": [".html", ".htm"]}>
```

### File Validation

```tsx
<FileUpload maxFiles={5}>
<FileUpload minFileSize={1024 * 1024 * 5}> {/* 5 mb */}
<FileUpload maxFileSize={1024 * 1024 * 10}> {/* 10 mb */}
```

### Custom Validation

```ts
function validateFileSize(file) {
	if (file.size > 1024 * 1024 * 10) return ["FILE_TOO_LARGE"];
	return null;
}
```
```tsx
<FileUpload validate={validateFileSize} onFileReject={console.error}>
```

### Events

```tsx
<FileUpload onFileChange={console.log}> {/* Triggers when files changed. */}
<FileUpload onFileAccept={console.log}> {/* Triggers when files are accepted. */}
<FileUpload onFileReject={console.error}> {/* Triggers when files are rejected. */}
```

### Image Previews

```ts
function generatePreview(event) {
	const reader = new FileReader();
	reader.onload = (event) => {
		const image = event.target.result;
		// set the image as the src of an image element
	}
	reader.readAsDataURL(details.acceptedFiles[0]);
}
```
```tsx
<FileUpload onFileChange={generatePreview}>
```

### Miscellaneous

```tsx
<FileUpload allowDrop> {/* Enable drag-and-drop */}
<FileUpload directory> {/* Enable dirctories */}
<FileUpload capture> {/* Enable media capture on mobile devices */}
```

## API Reference

<ApiTable types={['FileUploadProps']} schema={FileUploadDocs} />


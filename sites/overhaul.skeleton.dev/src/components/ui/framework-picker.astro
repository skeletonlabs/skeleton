---
import { getCollection } from 'astro:content';

const frameworks = await getCollection('frameworks');
---

{
	Astro.params.framework && (
		<div class="label">
			<span class="label-text">Framework:</span>
			<nav class="btn-group preset-outlined-surface-200-800">
				{frameworks.map((framework) => (
					<a
						href={Astro.params.framework ? Astro.url.pathname.replace(Astro.params.framework, framework.id) : Astro.url.pathname}
						class={`btn preset-outlined aria-[current=page]:preset-filled`}
						aria-current={Astro.params.framework === framework.id ? 'page' : undefined}
						aria-label={`Switch to ${framework.data.name} docs`}
					>
						<img src={framework.data.logo} alt="" aria-hidden="true" class="size-6" />
					</a>
				))}
			</nav>
		</div>
	)
}
